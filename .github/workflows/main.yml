name: CI-Test

on: 
 push:
   branches:
     - main
jobs:
  build:
    runs-on: macos-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Set up Xcode
      run: sudo xcode-select --switch /Applications/Xcode_14.2.app
    - name: Install certification and Profile
      env: BUILD_CERTIFICATION_BASE64: ${{secrets.CICD_DIS_CER}}
           P12_PASSWORD: ${{secrets.CICD_PWD}}
    - name: build test
      run: |
           xcodebuild -project GHFollowers.xcodeproj \
                    -scheme GHFollowers \
                    -destination 'platform=iOS Simulator,name=iPhone 12' \
                    clean build
